{% extends "base_dashboard.html" %}

{% block title %}Dataset{% endblock %}

{% block dash_item_dataset %}active{% endblock dash_item_dataset %}

{% block content_dash %}
    <section class="dataset-page">
        {% if message %}
            <div class="dataset-message">
                {% if message_type == 'error' %}
                    <p><i class="fas fa-exclamation-circle"></i> {{ message }}</p>
                {% elif message_type == 'correct' %}
                    <p><i class="fas fa-check-circle"></i> {{ message }}</p>
                {% endif %}
            </div>
        {% endif %}
        <h1>Configure Dataset</h1>
        <h2>Database</h2>
        <select class="db-selector" name="select_database" required>
            <option class="db-selector-item" hidden>Select a Database</option>
            {% for item in databases %}
                <option class="db-selector-item" value="database1">{{ item }}</option>
            {% endfor %}
        </select>
        <form action="#" method="post" class="dataset-form">
            {% csrf_token %}
            <div class="dates-form">
                <h2>Time Interval</h2>
                <div class="dates-form-inputs">
                    <div class="date-input">
                        <label for="start-date-input">Start Date</label>
                        <input id="start-date-input" class="dataset-form-time" type="datetime" name="start_date" required>
                    </div>
                    <div class="date-input">
                        <label for="end-date-input">End Date</label>
                        <input id="end-date-input" class="dataset-form-time" type="datetime" name="end_date" required>
                    </div>
                </div>
            </div>
            <div class="types-form">
                <h2>Types</h2>
                <div class="types-labels">
                {% for item in types %}
                    <label class="types-label-item">
                        <input type="checkbox" id="cbox{{ forloop.counter }}" value="{{item}}" name="types">
                        {{ item }}
                    </label>
                {% endfor %}
                </div>
            </div>
            <button class="submit-btn" type="submit">Create Dataset</button>
        </form>
        
    </section>
    <script>
        $("#form-id").submit(function(){
            if(invalid){
                //Suppress form submit
                return false;
            }else{
                return true;
            }
        });
    </script>
{% endblock %}