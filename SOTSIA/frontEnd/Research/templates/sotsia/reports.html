{% extends "base_dashboard.html" %}

{% block title %}Reports{% endblock %}

{% block dash_item_reports %}active{% endblock dash_item_reports %}

{% block content_dash %}
  	<section class="reports-page">
		<h1>My Reports</h1>
		<div class="reports-info">
			<p>List of all the reports of the experiments carried out.</p>
		</div>
		<div class="reports-table">
			<table id="my-reports-table" class="table table-striped">
				<thead>
					<tr class="table-header">
						<th class="th-item">Database</th>
						<th class="th-item">Algorithm</th>
						<th class="th-item">Description</th>
						<th class="th-item">Start Date</th>
						<th class="th-item">Duration</th>
					</tr>
				</thead>
				<tbody>
					{% for item in experiments %}
						<tr class="table-row">
							<td class="td-item">{{ item.dataset.database }}</td>
							<td class="td-item">{{ item.algorithm_group }}</td>
							<td class="td-item">{{ item.description }}</td>
							<td class="td-item">{{ item.start_date|date:"d M, Y" }}</td>
							<td class="td-item">{{ item.duration|date:'H:i:s' }}</td>
						</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
  	</section>

	<script>
		$(document).ready(function () {
			var rows_number = $('#my-reports-table .table-row').length
			
			$('#my-reports-table').DataTable();
			$('#my-reports-table_filter').remove();
			$('#my-reports-table_length').remove();
			$("#my-reports-table_info").addClass('table-paginate-info');
			$("#my-reports-table_paginate").addClass('table-paginate-numbers');

			$('<div id="my-reports-table_paginate-wrapper" class="table_paginate-wrapper"></div>').appendTo('#my-reports-table_wrapper')
			$('#my-reports-table_paginate-wrapper').append($("#my-reports-table_info"));
			$('#my-reports-table_paginate-wrapper').append($("#my-reports-table_paginate"));

			if(rows_number <= 10) {
				$("#my-reports-table_info").remove();
				$("#my-reports-table_paginate").remove();
			}
		});
	</script>
{% endblock %}